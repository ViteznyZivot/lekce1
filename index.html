<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bay Street: The Golden Ledger</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts: Antonio & Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Antonio:wght@100..700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <style>
        /* --- VISUAL IDENTITY: THE GOLD STANDARD --- */
        :root {
            /* The Void */
            --color-bg: #000000; 
            
            /* The Wealth (Gold) */
            --gold-primary: #D4AF37; /* Metallic Gold */
            --gold-light: #FCD34D;   /* Bright Gold */
            --gold-dark: #B4941F;    /* Deep Gold */
            
            /* The Earth (Brown/Bronze) */
            --bronze-dark: #3E2723;
            --bronze-light: #8D6E63;

            /* The Structure */
            --glass-border: rgba(212, 175, 55, 0.3);
            --glass-bg: rgba(10, 5, 0, 0.85);
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--color-bg);
            color: #d4d4d8;
            overflow-x: hidden;
            font-size: 16px;
            font-weight: 400;
            margin: 0;
        }

        h1, h2, h3, .brand-font {
            font-family: 'Antonio', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #ffffff;
        }

        /* --- SCROLLYTELLING CANVAS LAYERS --- */
        #story-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            /* Subtle radial gradient background */
            background: radial-gradient(circle at center, #1a1005 0%, #000000 100%);
        }

        /* --- THE TECH (GOLD GLASSMORPHISM) --- */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.9), 
                        inset 0 0 0 1px rgba(212, 175, 55, 0.1);
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .glass-panel:hover {
            border-color: var(--gold-primary);
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.15);
        }

        /* --- TEXT EFFECTS --- */
        .text-gold { color: var(--gold-primary); }
        .text-gold-light { color: var(--gold-light); }
        
        .glow-gold {
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.6);
        }

        /* --- INPUT CRYSTAL --- */
        .crystal-input {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--gold-dark);
            color: var(--gold-light);
            font-family: 'Antonio', sans-serif;
            font-size: 3rem;
            text-align: center;
            outline: none;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        .crystal-input:focus {
            border-bottom-color: var(--gold-light);
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        /* --- SCROLL SECTIONS --- */
        section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 2rem;
            box-sizing: border-box;
        }

        .scroll-trigger {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
        }
        
        .scroll-trigger.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: var(--bronze-dark); border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--gold-primary); }

        .btn-gold {
            background: linear-gradient(45deg, var(--bronze-dark), #000);
            border: 1px solid var(--gold-dark);
            color: var(--gold-primary);
            padding: 1rem 2rem;
            font-family: 'Antonio', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s;
        }
        .btn-gold:hover {
            background: var(--gold-primary);
            color: #000;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

    </style>
</head>
<body class="antialiased selection:bg-yellow-900 selection:text-white">

    <!-- The Canvas Layer (Background Animation) -->
    <canvas id="story-canvas"></canvas>

    <!-- Navigation (Minimal) -->
    <nav class="fixed top-0 w-full z-50 p-6 flex justify-between items-center pointer-events-none">
        <div class="flex items-center gap-3 pointer-events-auto">
            <i data-lucide="diamond" class="text-yellow-500 w-6 h-6"></i>
            <span class="brand-font font-bold text-xl tracking-widest text-white">BAY STREET <span class="text-yellow-500">LEDGER</span></span>
        </div>
        <div class="text-xs font-mono text-yellow-600/50">SCROLL TO DISCOVER</div>
    </nav>

    <!-- Progress Line -->
    <div class="fixed left-0 top-0 h-1 bg-yellow-600 z-50 transition-all duration-100" id="scroll-progress" style="width: 0%"></div>


    <!-- SECTION 1: THE PROBLEM (Bank Glitch) -->
    <section id="section-intro" class="flex-col text-center relative z-10">
        <div class="max-w-4xl mx-auto scroll-trigger active" data-index="0">
            <h1 class="text-6xl md:text-9xl font-black mb-6 text-white drop-shadow-2xl">
                ZROZENÍ <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-200 to-yellow-500">PRAVDY</span>
            </h1>
            <p class="text-gray-400 text-xl md:text-2xl font-light max-w-2xl mx-auto leading-relaxed mb-12">
                Starý svět bankovek a razítek se hroutí. <br>
                Data jsou křehká. Důvěra je zlomená.
            </p>
            <div class="animate-bounce mt-12 text-yellow-500/50">
                <i data-lucide="chevron-down" class="w-10 h-10 mx-auto"></i>
            </div>
        </div>
    </section>

    <!-- SECTION 1.5: THE TRANSITION (Visual only scroll space) -->
    <section id="section-transition" class="h-[150vh] relative z-10 pointer-events-none">
        <!-- Just empty space to allow the canvas animation to play out -->
        <div class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center mix-blend-difference pointer-events-none opacity-0 transition-opacity duration-500" id="glitch-text">
            <h2 class="text-8xl font-black text-red-500 tracking-tighter glitch-effect">SYSTEM FAILURE</h2>
            <p class="text-red-400 font-mono mt-4">CENTRAL DATABASE CORRUPTED</p>
        </div>
    </section>

    <!-- SECTION 2: THE BLOCK (Solution) -->
    <section id="section-block" class="flex-col text-center relative z-10">
        <div class="glass-panel p-10 md:p-16 rounded-sm max-w-3xl scroll-trigger" data-index="1">
            <h2 class="text-5xl font-bold mb-6 text-white">NOVÁ STRUKTURA</h2>
            <p class="text-gray-300 text-lg leading-relaxed mb-8">
                Z chaosu povstal <strong class="text-yellow-400">BLOK</strong>. 
                Nezničitelná digitální schránka. Co se do ní jednou zapíše, zůstane tam navěky.
                Už žádné mazání historie.
            </p>
            <div class="flex justify-center gap-8 text-yellow-600/50">
                <div class="flex flex-col items-center">
                    <i data-lucide="shield-check" class="w-8 h-8 mb-2"></i>
                    <span class="text-xs uppercase tracking-widest">Secure</span>
                </div>
                <div class="flex flex-col items-center">
                    <i data-lucide="link" class="w-8 h-8 mb-2"></i>
                    <span class="text-xs uppercase tracking-widest">Linked</span>
                </div>
                <div class="flex flex-col items-center">
                    <i data-lucide="infinity" class="w-8 h-8 mb-2"></i>
                    <span class="text-xs uppercase tracking-widest">Eternal</span>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 3: HASHING (Generative Art) -->
    <section id="section-hash" class="relative z-10 flex-col">
        <div class="w-full max-w-4xl text-center scroll-trigger" data-index="2">
            <h2 class="text-4xl md:text-6xl font-bold mb-4 text-white">KRYSTALIZACE DAT</h2>
            <p class="text-gray-400 mb-12">Každé slovo vytváří unikátní geometrický otisk. Změň jediné písmeno a krystal se roztříští.</p>
            
            <div class="relative group">
                <input type="text" id="hash-input" value="BAY STREET" class="crystal-input w-full bg-transparent mb-8 pb-4" autocomplete="off" spellcheck="false">
                <div class="absolute bottom-24 left-1/2 transform -translate-x-1/2 text-yellow-600/30 text-xs font-mono uppercase tracking-widest pointer-events-none group-hover:text-yellow-500/50 transition-colors">
                    Type your name
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12 text-left">
                <div class="glass-panel p-6 border-l-2 border-l-yellow-500">
                    <h4 class="text-yellow-500 font-bold mb-2">INPUT</h4>
                    <p class="text-xs text-gray-400 font-mono break-all" id="display-input">BAY STREET</p>
                </div>
                <div class="glass-panel p-6 border-l-2 border-l-white">
                    <h4 class="text-white font-bold mb-2">SHA-256 (Simulace)</h4>
                    <p class="text-xs text-gray-500 font-mono break-all" id="display-hash">...</p>
                </div>
                <div class="glass-panel p-6 border-l-2 border-l-yellow-900">
                    <h4 class="text-yellow-700 font-bold mb-2">GEOMETRIE</h4>
                    <p class="text-xs text-gray-400 font-mono">Vertices: <span id="display-vertices" class="text-white">0</span></p>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION 4: THE FUTURE -->
    <section id="section-future" class="relative z-10">
        <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-center scroll-trigger" data-index="3">
            <div>
                <h2 class="text-5xl md:text-7xl font-bold mb-8 text-white leading-tight">
                    ZLATÝ <br><span class="text-yellow-500 glow-gold">STANDARD</span>
                </h2>
                <p class="text-gray-300 text-lg mb-8 leading-relaxed">
                    Vítejte ve světě Webu 3.0. Zde se digitální vlastnictví stává hmatatelným. 
                    Tokeny, NFT, Smart kontrakty - to nejsou jen kódy. Jsou to cihly nové ekonomiky.
                </p>
                <button onclick="location.reload()" class="btn-gold flex items-center gap-3 group">
                    Restartovat Cestu <i data-lucide="refresh-ccw" class="w-5 h-5 group-hover:rotate-180 transition-transform duration-700"></i>
                </button>
            </div>
            
            <div class="glass-panel p-8 md:p-12 rotate-3 hover:rotate-0 transition-transform duration-700">
                <div class="border border-yellow-500/20 p-6 relative">
                    <div class="absolute -top-3 -left-3 bg-black border border-yellow-500 text-yellow-500 text-xs px-2 py-1 font-mono">SMART CONTRACT</div>
                    <div class="font-mono text-xs text-gray-500 leading-loose">
                        <span class="text-yellow-600">contract</span> Vault {<br>
                        &nbsp;&nbsp;<span class="text-white">uint256</span> public goldBalance;<br>
                        &nbsp;&nbsp;<span class="text-white">address</span> public owner;<br>
                        <br>
                        &nbsp;&nbsp;<span class="text-yellow-600">function</span> withdraw() public {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="text-blue-400">require</span>(msg.sender == owner);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;msg.sender.transfer(address(this).balance);<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-8 left-8 glass-panel p-4 border-l-4 border-yellow-500 transform translate-y-32 transition-transform duration-500 z-50 flex items-center gap-3">
        <i data-lucide="info" class="text-yellow-500"></i>
        <span id="toast-msg" class="text-sm text-white font-medium">System Ready.</span>
    </div>

    <script>
        // --- CONFIGURATION ---
        const PARTICLE_COLOR = '#D4AF37'; // Gold
        const PARTICLE_SIZE = 2;
        
        // --- CANVAS SETUP ---
        const canvas = document.getElementById('story-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        
        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            // Center calculation needs update on resize
            centerX = width / 2;
            centerY = height / 2;
        }
        window.addEventListener('resize', resize);
        
        // --- STATE & SCROLL LOGIC ---
        let scrollY = 0;
        let scrollProgress = 0; // 0 to 1 based on page height
        let centerX, centerY;
        
        // --- PARTICLE SYSTEM (BANK -> BLOCK) ---
        class Particle {
            constructor(x, y, destX, destY) {
                // Bank State (Icon shape roughly)
                this.bankX = x;
                this.bankY = y;
                
                // Block State (Perfect Cube/Grid)
                this.blockX = destX;
                this.blockY = destY;
                
                // Current State
                this.x = x;
                this.y = y;
                
                // Glitch factors
                this.noiseX = (Math.random() - 0.5) * 50;
                this.noiseY = (Math.random() - 0.5) * 50;
                this.speed = Math.random() * 0.05 + 0.02;
                
                this.size = Math.random() * 2 + 1;
                this.alpha = Math.random() * 0.5 + 0.3;
            }

            update(progress, time) {
                // Progress 0.0 - 0.3: Bank State
                // Progress 0.3 - 0.6: Explosion/Glitch
                // Progress 0.6 - 1.0: Block State
                
                let targetX, targetY;
                
                if (progress < 0.4) {
                    // Bank State
                    targetX = this.bankX;
                    targetY = this.bankY;
                } else {
                    // Block State
                    targetX = this.blockX;
                    targetY = this.blockY;
                }

                // GLITCH EFFECT in transition (0.3 to 0.7)
                let glitchIntensity = 0;
                if (progress > 0.2 && progress < 0.8) {
                    // Parabola peak at 0.5
                    glitchIntensity = 1 - Math.pow((progress - 0.5) * 4, 2); 
                    if(glitchIntensity < 0) glitchIntensity = 0;
                }

                // Glitch Text Trigger
                const glitchText = document.getElementById('glitch-text');
                if (glitchIntensity > 0.8) {
                    glitchText.style.opacity = Math.random() > 0.5 ? '1' : '0.5';
                    glitchText.style.transform = `translate(-50%, -50%) skew(${Math.random()*20-10}deg)`;
                } else {
                    glitchText.style.opacity = '0';
                }

                // Interpolation
                const lerp = (start, end, amt) => (1 - amt) * start + amt * end;
                
                this.x = lerp(this.x, targetX, 0.08);
                this.y = lerp(this.y, targetY, 0.08);

                // Add Glitch Noise
                this.x += (Math.random() - 0.5) * glitchIntensity * 100;
                this.y += (Math.random() - 0.5) * glitchIntensity * 100;
            }

            draw() {
                ctx.fillStyle = `rgba(212, 175, 55, ${this.alpha})`;
                ctx.beginPath();
                ctx.rect(this.x, this.y, this.size, this.size);
                ctx.fill();
            }
        }

        let particles = [];

        function initParticles() {
            particles = [];
            resize(); // Ensure center is correct
            
            const rows = 20;
            const cols = 20;
            const gap = 15;
            
            // Define Block Shape (Grid)
            const blockOffsetX = centerX - (cols * gap) / 2;
            const blockOffsetY = centerY - (rows * gap) / 2;

            // Define Bank Shape (Pillar Icon)
            // Top triangle (roof) + Rect body
            
            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    // Block Coords
                    const bX = blockOffsetX + j * gap;
                    const bY = blockOffsetY + i * gap;
                    
                    // Bank Coords (Simulated)
                    let bankX, bankY;
                    
                    // Roof
                    if (i < 6) {
                        const rowWidth = i * 2 + 2;
                        const startJ = (cols - rowWidth) / 2;
                        if (j >= startJ && j < startJ + rowWidth) {
                             bankX = centerX + (j - cols/2) * gap;
                             bankY = centerY - 150 + i * gap;
                        } else {
                            // Debris for unused particles in bank mode
                            bankX = (Math.random() * width);
                            bankY = (Math.random() * height); 
                        }
                    } 
                    // Pillars
                    else if (i >= 6 && i < 16) {
                        if (j % 4 === 1 || j % 4 === 2) {
                            bankX = centerX + (j - cols/2) * gap;
                            bankY = centerY - 150 + i * gap;
                        } else {
                            bankX = (Math.random() * width);
                            bankY = height + Math.random() * 100;
                        }
                    }
                    // Base
                    else {
                        if (j > 2 && j < cols - 2) {
                            bankX = centerX + (j - cols/2) * gap;
                            bankY = centerY - 150 + i * gap;
                        } else {
                            bankX = Math.random() * width;
                            bankY = height + 100;
                        }
                    }

                    // Push Particle
                    particles.push(new Particle(bankX, bankY, bX, bY));
                }
            }
        }

        // --- CRYSTAL HASHING LOGIC ---
        let crystalState = {
            seed: 0,
            text: "BAY STREET",
            color: '#D4AF37'
        };

        function drawCrystal() {
            const time = Date.now() * 0.001;
            const inputSection = document.getElementById('section-hash').getBoundingClientRect();
            
            // Only draw if section is visible
            if (inputSection.top > window.innerHeight || inputSection.bottom < 0) return;

            // Simple Hash simulation for visuals
            let hashVal = 0;
            for(let i=0; i<crystalState.text.length; i++) {
                hashVal = (hashVal << 5) - hashVal + crystalState.text.charCodeAt(i);
                hashVal |= 0;
            }
            const absHash = Math.abs(hashVal);
            
            // Setup geometry
            const numPoints = 3 + (absHash % 10); // 3 to 12 points
            const radius = 100 + (absHash % 50);
            
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(time * (0.2 + (absHash % 10)/50)); // Rotation speed based on hash
            
            ctx.beginPath();
            ctx.strokeStyle = crystalState.color;
            ctx.lineWidth = 2;
            
            for(let i=0; i <= numPoints; i++) {
                const angle = (i / numPoints) * Math.PI * 2;
                // Spikiness determined by char codes
                const mod = (i % 2 === 0) ? 1 : 0.5 + ((absHash % 100)/200);
                const r = radius * mod;
                
                const x = Math.cos(angle) * r;
                const y = Math.sin(angle) * r;
                
                if(i===0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            
            ctx.closePath();
            
            // Glow effect
            ctx.shadowBlur = 20;
            ctx.shadowColor = crystalState.color;
            ctx.stroke();
            
            // Inner lines
            ctx.beginPath();
            ctx.lineWidth = 0.5;
            ctx.globalAlpha = 0.5;
            for(let i=0; i <= numPoints; i++) {
                const angle = (i / numPoints) * Math.PI * 2;
                ctx.lineTo(0,0);
                const x = Math.cos(angle) * radius * ((i%2===0)?1:0.5);
                const y = Math.sin(angle) * radius * ((i%2===0)?1:0.5);
                ctx.lineTo(x,y);
            }
            ctx.stroke();
            
            ctx.restore();
        }

        // --- MAIN RENDER LOOP ---
        function animate() {
            ctx.clearRect(0, 0, width, height);
            
            // 1. Calculate Scroll Physics
            const transitionSection = document.getElementById('section-transition');
            const transRect = transitionSection.getBoundingClientRect();
            const winH = window.innerHeight;
            
            // Map scroll to 0-1 for the transition phase
            // Start changing when Section 1 leaves, finish when Section 2 arrives
            let transProgress = (winH - transRect.top) / (transRect.height + winH);
            transProgress = Math.max(0, Math.min(1, transProgress));
            
            // 2. Draw Particles (Bank -> Block)
            // Fade out when crystal section appears
            const hashSection = document.getElementById('section-hash').getBoundingClientRect();
            let globalAlpha = 1;
            if (hashSection.top < winH) {
                globalAlpha = Math.max(0, hashSection.top / winH);
            }
            
            ctx.save();
            ctx.globalAlpha = globalAlpha;
            particles.forEach(p => {
                p.update(transProgress, Date.now());
                p.draw();
            });
            ctx.restore();

            // 3. Draw Crystal
            if (globalAlpha < 0.1) {
                drawCrystal();
            }

            requestAnimationFrame(animate);
        }

        // --- EVENT LISTENERS ---
        window.addEventListener('scroll', () => {
            scrollY = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrolled = (scrollY / docHeight) * 100;
            document.getElementById('scroll-progress').style.width = `${scrolled}%`;
            
            // Reveal text triggers
            const triggers = document.querySelectorAll('.scroll-trigger');
            triggers.forEach(t => {
                const rect = t.getBoundingClientRect();
                if (rect.top < window.innerHeight * 0.8) {
                    t.classList.add('active');
                }
            });
        });

        const inputEl = document.getElementById('hash-input');
        inputEl.addEventListener('input', (e) => {
            const val = e.target.value;
            crystalState.text = val;
            
            // Visual Updates
            document.getElementById('display-input').innerText = val;
            
            // Simulate Hash Display
            let hashSim = "";
            let hashNum = 0;
            for(let i=0; i<val.length; i++) {
                hashNum += val.charCodeAt(i);
                hashSim += val.charCodeAt(i).toString(16);
            }
            // Pad for visual effect
            while(hashSim.length < 32) hashSim += (hashNum % 9);
            
            document.getElementById('display-hash').innerText = "0x" + hashSim.substring(0, 20) + "...";
            document.getElementById('display-vertices').innerText = 3 + (hashNum % 10);
            
            // Color Shift based on length (Gold -> Bronze -> White)
            if (val.length % 3 === 0) crystalState.color = '#D4AF37'; // Gold
            else if (val.length % 3 === 1) crystalState.color = '#CD7F32'; // Bronze
            else crystalState.color = '#E5E7EB'; // Silver/White
        });

        // --- INIT ---
        resize();
        initParticles();
        animate();
        lucide.createIcons();

    </script>
</body>
</html>
